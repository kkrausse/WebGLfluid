<script src="../lightgl.js"></script>
<script src="../fluid.js"></script>
<script src="../solid.js"></script>
<script>

function print(str) {
	var p = document.createElement('p');
	p.appendChild(document.createTextNode(str));
	document.body.appendChild(p);
}

window.onload = function() {
	var image = document.getElementById('image');
	gl = GL.create();
	var sim = new Simulation2D(GL.Texture.fromImage(image,
		{wrap: gl.CLAMP_TO_EDGE, type: gl.FLOAT}));

	gl = sim.gl;
	var solids = new Solids(sim);


	document.body.appendChild(gl.canvas);


	try {
		sim.run();
	} catch (e) {
		print("got to this outer one");
		console.log(e);
	}
	
};
</script>
<img id="image" src="color.jpg" hidden="true" >
